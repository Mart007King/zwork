# wy-comments

## Properties

| Property                        | Attribute           | Type                                             | Default                                          |
|---------------------------------|---------------------|--------------------------------------------------|--------------------------------------------------|
| `app`                           |                     | `AppType`                                        |                                                  |
| `availableFeatures`             | `availableFeatures` | `FeaturesListType \| undefined`                  |                                                  |
| `commentsQuery`                 |                     | `InfiniteQueryController<CommentsResultType>`    | "new InfiniteQueryController<CommentsResultType>(this)" |
| `features`                      | `features`          | `FeaturesConfigType \| undefined`                | {}                                               |
| `handleRealtimeCommentCreated`  |                     | `(realtimeEvent: RealtimeCommentEventType) => void` | "(realtimeEvent: RealtimeCommentEventType) => {\n    if (\n      !this.weavyContext \|\|\n      realtimeEvent.actor.id === this.user!.id \|\|\n      realtimeEvent.comment.parent?.id !== this.parentId\n    ) {\n      return;\n    }\n\n    realtimeEvent.comment.created_by = realtimeEvent.actor;\n    addCacheItem(this.weavyContext.queryClient, [\"comments\", this.parentId], realtimeEvent.comment, undefined, {\n      descending: false,\n    });\n  }" |
| `handleRealtimeReactionAdded`   |                     | `(realtimeEvent: RealtimeReactionEventType) => void` | "(realtimeEvent: RealtimeReactionEventType) => {\n    if (!this.weavyContext \|\| realtimeEvent.actor.id === this.user!.id \|\| realtimeEvent.entity.type !== \"comment\") {\n      return;\n    }\n\n    updateCacheItem(\n      this.weavyContext.queryClient,\n      [\"comments\", this.parentId],\n      realtimeEvent.entity.id,\n      (item: CommentType) => {\n        item.reactions = [\n          ...(item.reactions \|\| []),\n          { content: realtimeEvent.reaction, created_by_id: realtimeEvent.actor.id },\n        ];\n      }\n    );\n  }" |
| `handleRealtimeReactionDeleted` |                     | `(realtimeEvent: RealtimeReactionEventType) => void` | "(realtimeEvent: RealtimeReactionEventType) => {\n    if (!this.weavyContext \|\| realtimeEvent.actor.id === this.user!.id \|\| realtimeEvent.entity.type !== \"comment\") {\n      return;\n    }\n\n    updateCacheItem(\n      this.weavyContext.queryClient,\n      [\"comments\", this.parentId],\n      realtimeEvent.entity.id,\n      (item: CommentType) => {\n        item.reactions = item.reactions.filter((item) => item.created_by_id !== realtimeEvent.actor.id);\n      }\n    );\n  }" |
| `location`                      |                     | `"posts" \| "apps" \| "files"`                   | "apps"                                           |
| `parentId`                      | `parentId`          | `number`                                         |                                                  |
| `user`                          |                     | `UserType`                                       |                                                  |

## Methods

| Method       | Type                                             |
|--------------|--------------------------------------------------|
| `willUpdate` | `(changedProperties: PropertyValues<never>): Promise<void>` |
